<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Pi Network Barter Application" />
    <title>Barter-Pi Pro - Final UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        /* ‡§ï‡§∏‡•ç‡§ü‡§Æ ‡§∏‡•ç‡§ï‡•ç‡§∞‡•â‡§≤ ‡§¨‡§æ‡§∞ (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï) */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div id="root"></div>

    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- Static Configuration & Dummy Data ---
        const DUMMY_USER_ID = "ADM_PRO_USER_007";
        const ADMIN_ID = DUMMY_USER_ID; 

        const DUMMY_LISTINGS = [
            { id: 'l1', itemName: 'Apple iPhone 14 Pro', description: '‡§¨‡•ç‡§∞‡§æ‡§Ç‡§° ‡§®‡•ç‡§Ø‡•Ç, ‡§∏‡•Ä‡§≤ ‡§™‡•à‡§ï‡•§ 256GB, ‡§°‡•Ä‡§™ ‡§™‡§∞‡•ç‡§™‡§≤‡•§ ‡§µ‡§ø‡§®‡§ø‡§Æ‡§Ø (Barter) ‡§Ø‡§æ Pi ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§≤‡§¨‡•ç‡§ß‡•§', pricePi: 450, status: 'Active', posterId: 'user_a01b2c3d', image: 'https://via.placeholder.com/400x300?text=iPhone', timestamp: new Date(Date.now() - 86400000), location: 'Local', delivery: 'Local Pickup' },
            { id: 'l2', itemName: '‡§™‡•Å‡§∞‡§æ‡§®‡§æ ‡§∏‡§æ‡§á‡§ï‡§ø‡§≤', description: '‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§∂‡•Ä‡§≤ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Æ‡•á‡§Ç, ‡§•‡•ã‡§°‡§º‡•Ä ‡§Æ‡§∞‡§Æ‡•ç‡§Æ‡§§ ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à‡•§ ‡§ï‡•á‡§µ‡§≤ ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§™‡§ø‡§ï‡§Ö‡§™‡•§', pricePi: 5, status: 'Active', posterId: 'user_e4f5g6h7', image: 'https://via.placeholder.com/400x300?text=Bicycle', timestamp: new Date(Date.now() - 3600000), location: 'Global', delivery: 'Shipping' },
            { id: 'l3', itemName: '‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§°‡§ø‡§ú‡§æ‡§á‡§® ‡§∏‡•á‡§µ‡§æ', description: '‡§è‡§ï ‡§™‡•á‡§ú ‡§ï‡•Ä ‡§≤‡•à‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§™‡•á‡§ú ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡§æ ‡§Ü‡§ï‡§∞‡•ç‡§∑‡§ï ‡§°‡§ø‡§ú‡§æ‡§á‡§®‡•§ 3 ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§°‡§ø‡§≤‡•Ä‡§µ‡§∞‡•Ä‡•§', pricePi: 50, status: 'Pending', posterId: 'user_i8j9k0l1', image: 'https://via.placeholder.com/400x300?text=Web+Design', timestamp: new Date(Date.now() - 7200000), location: 'Global', delivery: 'Digital' },
            { id: 'l4', itemName: 'Pi ‡§Æ‡§æ‡§á‡§®‡§ø‡§Ç‡§ó ‡§®‡•ã‡§° ‡§∏‡•á‡§ü‡§Ö‡§™', description: '‡§Ö‡§™‡§®‡•á Raspberry Pi ‡§™‡§∞ ‡§è‡§ï ‡§∏‡•ç‡§•‡§ø‡§∞ Pi ‡§®‡•ã‡§° ‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç‡•§ 24 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡§æ ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü‡•§', pricePi: 25, status: 'Active', posterId: 'user_node_tech', image: 'https://via.placeholder.com/400x300?text=Pi+Node+Setup', timestamp: new Date(Date.now() - 10000), location: 'Global', delivery: 'Digital' },
        ];

        const DUMMY_ORDERS = [
            { id: 'o1', item: 'iPhone 14 Pro', price: 450, status: 'Shipped', tracking: 'TRK001', delivery: 'Local', buyer: 'user_xyz' },
            { id: 'o2', item: 'Laptop Repair Service', price: 35, status: 'Delivered', tracking: 'TRK002', delivery: 'Global', buyer: DUMMY_USER_ID },
            { id: 'o3', item: 'Old Bicycle', price: 5, status: 'Pending Payment', tracking: 'TRK003', delivery: 'Local', buyer: DUMMY_USER_ID },
        ];
        
        // --- Shared Components: Nav, Header ---

        const NavButton = ({ title, page, currentPage, setPage }) => (
            <button
                onClick={() => setPage(page)}
                className={`px-3 py-2 rounded-lg text-sm font-medium transition duration-200 ${
                    currentPage === page ? 'bg-indigo-600 text-white shadow-lg' : 'text-gray-600 hover:bg-gray-100'
                } whitespace-nowrap`}
            >
                {title}
            </button>
        );

        const Header = ({ currentPage, setPage }) => (
            <header className="bg-white shadow-md sticky top-0 z-20">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex flex-col sm:flex-row justify-between items-center">
                    <h1 className="text-3xl font-extrabold text-indigo-600 mb-2 sm:mb-0">
                        Barter-<span className="text-yellow-500">Pi</span> Pro
                    </h1>
                    <div className="flex space-x-2 overflow-x-auto pb-1">
                        <NavButton title="‡§π‡•ã‡§Æ" page="Home" currentPage={currentPage} setPage={setPage} />
                        <NavButton title="‡§ö‡•à‡§ü" page="Chat" currentPage={currentPage} setPage={setPage} />
                        <NavButton title="‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏" page="Orders" currentPage={currentPage} setPage={setPage} />
                        <NavButton title="AI ‡§π‡•á‡§≤‡•ç‡§™‡§∞" page="AIHelper" currentPage={currentPage} setPage={setPage} />
                        {DUMMY_USER_ID === ADMIN_ID && (
                            <NavButton title="‡§è‡§°‡§Æ‡§ø‡§®" page="Admin" currentPage={currentPage} setPage={setPage} />
                        )}
                    </div>
                    <div className="text-sm text-gray-600 text-right mt-2 sm:mt-0">
                        ‡§Ø‡•Ç‡§ú‡§º‡§∞ ID: 
                        <span className="font-mono text-xs bg-gray-100 p-1 rounded block mt-1 leading-tight overflow-x-auto whitespace-nowrap">
                            {DUMMY_USER_ID}
                        </span>
                    </div>
                </div>
            </header>
        );

        // --- Listing Detail Modal ---
        const ListingDetailModal = ({ isOpen, onClose, listing }) => {
            if (!isOpen || !listing) return null;

            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10 p-4">
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-2xl overflow-y-auto max-h-[90vh] animate-in slide-in-from-top-4 duration-300">
                        <div className="p-6 border-b flex justify-between items-center sticky top-0 bg-white z-10">
                            <h2 className="text-2xl font-bold text-gray-800">{listing.itemName}</h2>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 text-3xl font-light">&times;</button>
                        </div>
                        <div className="p-6 space-y-6">
                            <img src={listing.image.replace('400x300', '600x400')} alt={listing.itemName} className="w-full h-64 object-cover rounded-lg shadow-md" />
                            
                            <div className="flex justify-between items-center border-b pb-4">
                                <div className="text-4xl font-extrabold text-indigo-600">{listing.pricePi} Pi</div>
                                <span className="px-4 py-2 text-md font-bold rounded-full bg-green-100 text-green-700">{listing.status}</span>
                            </div>

                            <h3 className="text-xl font-semibold text-gray-800">‡§µ‡§ø‡§µ‡§∞‡§£</h3>
                            <p className="text-gray-700 leading-relaxed">{listing.description}</p>

                            <div className="grid grid-cols-2 gap-4 text-sm text-gray-600 border-t pt-4">
                                <div><span className="font-semibold">Seller ID:</span> <span className="font-mono text-xs bg-gray-100 p-1 rounded">{listing.posterId}</span></div>
                                <div><span className="font-semibold">Posted:</span> {listing.timestamp.toLocaleDateString('hi-IN')}</div>
                                <div><span className="font-semibold">Location:</span> {listing.location}</div>
                                <div><span className="font-semibold">Delivery:</span> {listing.delivery}</div>
                            </div>
                            
                            <div className="bg-gray-100 p-4 rounded-lg flex items-center justify-center text-gray-500 text-sm">
                                [360¬∞ Product View & Video Preview Placeholder]
                            </div>

                            <div className="space-y-3 pt-4 border-t">
                                <button className="w-full bg-yellow-500 hover:bg-yellow-600 text-gray-900 font-bold py-3 rounded-lg transition shadow-md" onClick={() => alert(`Initiating Secure Pi Payment for ${listing.pricePi} Pi...`)}>
                                    <span role="img" aria-label="Pay">üí≥</span> ‡§Ö‡§≠‡•Ä ‡§ñ‡§∞‡•Ä‡§¶‡•á‡§Ç / Pi ‡§ë‡§´‡§º‡§∞ ‡§¶‡•á‡§Ç
                                </button>
                                <button className="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 rounded-lg transition shadow-md" onClick={() => alert('Opening Chat with Seller...')}>
                                    <span role="img" aria-label="Chat">üí¨</span> ‡§ö‡•à‡§ü ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- Listing Card Component ---
        const ListingCard = ({ listing, onClick }) => (
            <div 
                className="bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200 hover:shadow-2xl hover:cursor-pointer transition duration-300 transform hover:scale-[1.02]"
                onClick={() => onClick(listing)}
            >
                <img src={listing.image} alt={listing.itemName} className="w-full h-40 object-cover" />
                <div className="p-4">
                    <h3 className="text-lg font-bold text-gray-800 mb-1 h-12 overflow-hidden">{listing.itemName}</h3>
                    <p className="text-xs text-gray-500 mb-3 h-8 overflow-hidden">{listing.description}</p>
                    
                    <div className="flex justify-between items-center mb-3">
                        <div className="text-2xl font-extrabold text-indigo-600">
                            {listing.pricePi} Pi
                        </div>
                        <span className={`px-3 py-1 text-xs font-medium rounded-full ${listing.status === 'Active' ? 'bg-green-100 text-green-700' : 'bg-yellow-100 text-yellow-700'}`}>
                            {listing.status}
                        </span>
                    </div>

                    <button className="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 rounded-lg text-sm transition">
                        <span role="img" aria-label="Details">‚ÑπÔ∏è</span> ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§¶‡•á‡§ñ‡•á‡§Ç
                    </button>
                </div>
            </div>
        );
        // --- New Listing Modal Component ---
        const NewListingModal = ({ isOpen, onClose, onSave }) => {
            if (!isOpen) return null;

            const handleSubmit = (e) => {
                e.preventDefault();
                alert('‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§°‡•ç‡§∞‡§æ‡§´‡•ç‡§ü ‡§∏‡•á‡§µ ‡§π‡•ã ‡§ó‡§Ø‡§æ! ‡§Ø‡§π Pi ‡§Æ‡•â‡§°‡§∞‡•á‡§ü‡§∞ ‡§ï‡•Ä ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§π‡•à‡•§');
                onClose();
                // Actual save logic would go here
            };

            return (
                <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-start pt-10 p-4">
                    <div className="bg-white rounded-xl shadow-2xl w-full max-w-lg overflow-y-auto max-h-[90vh]">
                        <div className="p-6 border-b flex justify-between items-center sticky top-0 bg-white z-10">
                            <h2 className="text-2xl font-bold text-gray-800">‡§®‡§Ø‡§æ ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞ ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç</h2>
                            <button onClick={onClose} className="text-gray-400 hover:text-gray-600 text-3xl font-light">&times;</button>
                        </div>
                        <form onSubmit={handleSubmit} className="p-6 space-y-4">
                            <input type="text" required placeholder="‡§Ü‡§á‡§ü‡§Æ ‡§ï‡§æ ‡§®‡§æ‡§Æ (‡§ú‡•à‡§∏‡•á Pi Node Service)" className="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500" />
                            <textarea required placeholder="‡§Ü‡§á‡§ü‡§Æ ‡§ï‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§µ‡§ø‡§µ‡§∞‡§£ (500 ‡§µ‡§∞‡•ç‡§£ ‡§§‡§ï)..." rows="4" className="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"></textarea>
                            
                            <button type="button" className="w-full bg-yellow-100 text-yellow-700 font-semibold py-2 rounded-lg hover:bg-yellow-200 transition">
                                <span role="img" aria-label="AI">üí°</span> Pi-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§ï‡§æ ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§¶‡•á‡§Ç
                            </button>

                            <input type="number" required placeholder="Pi ‡§Æ‡•á‡§Ç ‡§ï‡•Ä‡§Æ‡§§ (‡§ú‡•à‡§∏‡•á 450 Pi)" step="0.01" min="0.01" className="w-full p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500" />
                            
                            <div className="border border-dashed border-gray-400 p-4 rounded-lg text-center">
                                <label className="block text-sm font-medium text-gray-700 mb-1">‡§õ‡§µ‡§ø/‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§Ö‡§™‡§≤‡•ã‡§° (‡§Ö‡§ß‡§ø‡§ï‡§§‡§Æ 3)</label>
                                <input type="file" multiple className="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100"/>
                            </div>
                            
                            <div className="flex justify-end pt-4 border-t">
                                <button type="button" onClick={onClose} className="bg-gray-200 text-gray-700 font-bold py-2 px-4 rounded-lg mr-3 hover:bg-gray-300 transition">‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
                                <button type="submit" className="bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition shadow-md">‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç</button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        };
        // --- Page Components ---
        const HomePage = ({ setPage }) => {
            const [isNewListingModalOpen, setIsNewListingModalOpen] = useState(false);
            const [isDetailModalOpen, setIsDetailModalOpen] = useState(false);
            const [selectedListing, setSelectedListing] = useState(null);

            const openDetailModal = (listing) => {
                setSelectedListing(listing);
                setIsDetailModalOpen(true);
            };

            const sortedListings = DUMMY_LISTINGS.sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());
            return (
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
                    {/* Pi Wallet Snapshot */}
                    <div className="bg-indigo-600 p-6 rounded-xl shadow-xl text-white flex justify-between items-center">
                        <div>
                            <p className="text-lg font-semibold mb-1">Pi Wallet Balance (Mainnet)</p>
                            <h2 className="text-4xl font-extrabold">12,456.78 <span className="text-yellow-400">Pi</span></h2>
                            <p className="text-sm opacity-80 mt-1">~$2,990.00 USD (Dummy Rate)</p>
                        </div>
                        <button 
                            className="bg-yellow-500 text-gray-900 font-bold py-3 px-6 rounded-lg shadow-lg hover:bg-yellow-400 transition"
                            onClick={() => alert('Opening Pi Browser Wallet...')}
                        >
                            <span role="img" aria-label="Wallet">üëõ</span> Pi Wallet ‡§ñ‡•ã‡§≤‡•á‡§Ç
                        </button>
                    </div>

                    {/* Search and Mapping */}
                    <div className="bg-white p-6 rounded-xl shadow-lg border border-indigo-100">
                        <h2 className="text-xl font-bold text-gray-800 mb-3">‡§≤‡•ã‡§ï‡§≤ / ‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤ ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞ ‡§ñ‡•ã‡§ú‡•á‡§Ç</h2>
                        <div className="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 mb-4">
                            <input type="text" placeholder="‡§Ü‡§á‡§ü‡§Æ ‡§Ø‡§æ ‡§ï‡•Ä‡§µ‡§∞‡•ç‡§° ‡§ñ‡•ã‡§ú‡•á‡§Ç..." className="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500" />
                            <select className="p-3 border border-gray-300 rounded-lg">
                                <option>‡§ó‡•ç‡§≤‡•ã‡§¨‡§≤</option>
                                <option>‡§≤‡•ã‡§ï‡§≤ (50km)</option>
                            </select>
                            <button className="bg-indigo-600 text-white p-3 rounded-lg font-semibold hover:bg-indigo-700 transition">‡§ñ‡•ã‡§ú</button>
                        </div>
                        <div className="h-40 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500">
                            [Global Barter Map Placeholder]
                        </div>
                    </div>

                    {/* Post New Section */}
                    <section className="p-8 bg-green-50 border border-green-200 rounded-xl shadow-lg flex justify-between items-center">
                        <h2 className="text-xl font-semibold text-green-800">‡§Ü‡§™‡§ï‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?</h2>
                        <button 
                            className="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg shadow-xl transition"
                            onClick={() => setIsNewListingModalOpen(true)}
                        >
                            + ‡§®‡§à ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§™‡•ã‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç
                        </button>
                    </section>
                    
                    {/* Latest Listings */}
                    <h2 className="text-2xl font-bold text-gray-800 mb-4 border-b pb-2">‡§≤‡•á‡§ü‡•á‡§∏‡•ç‡§ü ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞ ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</h2>
                    <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                        {sortedListings.map(listing => (
                            <ListingCard key={listing.id} listing={listing} onClick={openDetailModal} />
                        ))}
                    </div>

                    <NewListingModal isOpen={isNewListingModalOpen} onClose={() => setIsNewListingModalOpen(false)} />
                    <ListingDetailModal 
                        isOpen={isDetailModalOpen} 
                        onClose={() => setIsDetailModalOpen(false)} 
                        listing={selectedListing} 
                    />
                </div>
            );
        };
        // --- Chat Page ---
        const ChatPage = () => (
            <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <div className="p-4 sm:p-8 bg-white rounded-xl shadow-lg h-[700px] flex border border-gray-200">
                    {/* Chat List */}
                    <div className="flex flex-col w-full md:w-1/3 border-r pr-4 space-y-2 overflow-y-auto">
                        <h3 className="font-bold text-lg mb-2 text-indigo-600">‡§Æ‡•á‡§∞‡•Ä ‡§ö‡•à‡§ü‡•ç‡§∏</h3>
                        <div className="px-3 py-3 bg-indigo-100 text-indigo-700 rounded-xl font-semibold border-l-4 border-indigo-600 cursor-pointer">
                            üí¨ **iPhone 14 Pro** (Buyer)
                            <p className="text-xs text-gray-500 mt-1">‡§Ü‡§ñ‡§ø‡§∞‡•Ä ‡§Æ‡•à‡§∏‡•á‡§ú: ‡§†‡•Ä‡§ï ‡§π‡•à, ‡§Æ‡•à‡§Ç Pi ‡§≠‡•á‡§ú ‡§∞‡§π‡§æ ‡§π‡•Ç‡§Å‡•§</p>
                        </div>
                        <div className="px-3 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 cursor-pointer">
                            üí¨ **Pi Node Setup** (Seller)
                            <p className="text-xs text-gray-500 mt-1">‡§Ü‡§ñ‡§ø‡§∞‡•Ä ‡§Æ‡•à‡§∏‡•á‡§ú: ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ $5 Pi ‡§ú‡•ã‡§°‡§º ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?</p>
                        </div>
                        <div className="px-3 py-3 bg-yellow-100 text-yellow-700 rounded-xl hover:bg-yellow-200 cursor-pointer">
                            ü§ñ **AI Helper Chat**
                        </div>
                    </div>
                    {/* Chat Window */}
                    <div className="flex flex-col w-full md:w-2/3 md:pl-4">
                        <h2 className="text-xl font-bold text-gray-800 mb-4 border-b pb-2">iPhone 14 Pro (Chat with Seller)</h2>
                        <div className="flex-grow bg-gray-50 p-4 rounded-lg overflow-y-scroll space-y-4">
                            {/* Message 1 (Other User) */}
                            <div className="flex justify-start items-start">
                                <img src="https://via.placeholder.com/30" alt="User" className="w-8 h-8 rounded-full mr-3 border-2 border-indigo-500"/>
                                <div>
                                    <div className="bg-white p-3 rounded-xl rounded-tl-none max-w-xs shadow-md">‡§®‡§Æ‡§∏‡•ç‡§§‡•á, ‡§ï‡•ç‡§Ø‡§æ 400 Pi ‡§†‡•Ä‡§ï ‡§∞‡§π‡•á‡§ó‡§æ?</div>
                                    <p className="text-xs text-gray-400 mt-1">10:15 AM</p>
                                </div>
                            </div>
                            {/* Message 2 (Me) */}
                            <div className="flex justify-end items-start">
                                <div className="text-right">
                                    <div className="bg-indigo-100 p-3 rounded-xl rounded-tr-none max-w-xs shadow-md">450 Pi ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§π‡•à‡•§</div>
                                    <p className="text-xs text-gray-400 mt-1">10:18 AM</p>
                                </div>
                                <img src="https://via.placeholder.com/30" alt="Me" className="w-8 h-8 rounded-full ml-3 border-2 border-green-500"/>
                            </div>
                            <div className="text-center text-xs text-gray-500">‡§Ø‡§π‡§æ‡§Ç **Secure Pi Payment Link** ‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§π‡•à‡•§</div>
                        </div>
                        <div className="mt-4 flex space-x-2">
                            <input type="text" placeholder="‡§Æ‡•à‡§∏‡•á‡§ú ‡§≤‡§ø‡§ñ‡•á‡§Ç..." className="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500" />
                            <button className="bg-indigo-600 text-white p-3 rounded-lg font-semibold hover:bg-indigo-700 transition">Send</button>
                        </div>
                    </div>
                </div>
            </div>
        );

        // --- Orders Page ---
        const OrdersPage = () => {
            const myOrders = DUMMY_ORDERS.filter(o => o.buyer === DUMMY_USER_ID);
            const sellingOrders = DUMMY_ORDERS.filter(o => o.buyer !== DUMMY_USER_ID);

            return (
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-10">
                    <h2 className="text-3xl font-bold text-indigo-600 border-b pb-3">‡§ë‡§∞‡•ç‡§°‡§∞ ‡§î‡§∞ ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó</h2>
                    
                    {/* Buying Orders */}
                    <div className="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
                        <h3 className="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">üì¶ ‡§Æ‡•á‡§∞‡•á ‡§ñ‡§º‡§∞‡•Ä‡§¶‡•á ‡§ó‡§è ‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏ ({myOrders.length})</h3>
                        
                        {myOrders.length > 0 ? myOrders.map(order => (
                            <div key={order.id} className="mb-4 p-4 border border-gray-100 rounded-lg shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center bg-blue-50 hover:shadow-md transition">
                                <div>
                                    <p className="font-semibold text-lg">{order.item}</p>
                                    <p className="text-sm text-gray-500">‡§ï‡•Ä‡§Æ‡§§: **{order.price} Pi** | ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó: {order.tracking}</p>
                                    <p className="text-xs text-gray-400">Delivery Type: {order.delivery}</p>
                                </div>
                                <div className="text-right mt-2 sm:mt-0">
                                    <span className={`px-3 py-1 text-sm font-bold rounded-full block ${order.status === 'Delivered' ? 'bg-green-500 text-white' : 'bg-yellow-500 text-gray-900'}`}>
                                        {order.status}
                                    </span>
                                    {order.status === 'Delivered' ? (
                                        <button className="mt-1 text-indigo-600 text-sm hover:underline block">‡§∞‡§ø‡§µ‡•ç‡§Ø‡•Ç ‡§≤‡§ø‡§ñ‡•á‡§Ç</button>
                                    ) : (
                                        <button className="mt-1 text-red-600 text-sm hover:underline block">‡§ï‡•à‡§Ç‡§∏‡§ø‡§≤ ‡§ï‡§∞‡•á‡§Ç</button>
                                    )}
                                </div>
                            </div>
                        )) : <p className="text-gray-500">‡§ï‡•ã‡§à ‡§ñ‡§º‡§∞‡•Ä‡§¶‡§æ ‡§ó‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>}
                    </div>

                    {/* Selling Orders */}
                    <div className="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
                        <h3 className="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">üì§ ‡§Æ‡•á‡§∞‡•á ‡§¨‡•á‡§ö‡•á ‡§ó‡§è ‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏ ({sellingOrders.length})</h3>
                        
                        {sellingOrders.length > 0 ? sellingOrders.map(order => (
                             <div key={order.id} className="mb-4 p-4 border border-gray-100 rounded-lg shadow-sm flex flex-col sm:flex-row justify-between items-start sm:items-center bg-green-50 hover:shadow-md transition">
                                <div>
                                    <p className="font-semibold text-lg">{order.item}</p>
                                    <p className="text-sm text-gray-500">‡§ï‡•Ä‡§Æ‡§§: **{order.price} Pi** | Buyer ID: {order.buyer}</p>
                                    <p className="text-xs text-gray-400">Status: {order.status}</p>
                                </div>
                                <div className="text-right mt-2 sm:mt-0">
                                    <button className="bg-indigo-600 text-white py-2 px-4 rounded-lg text-sm font-semibold hover:bg-indigo-700">
                                        ‡§ü‡•ç‡§∞‡•à‡§ï‡§ø‡§Ç‡§ó ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
                                    </button>
                                </div>
                            </div>
                        )) : <p className="text-gray-500">‡§ï‡•ã‡§à ‡§¨‡•á‡§ö‡§æ ‡§ó‡§Ø‡§æ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ‡•§</p>}
                    </div>
                </div>
            );
        };
        
        // --- AI Helper Page ---
        const AIHelperPage = () => {
            const [input, setInput] = useState('');
            const [messages, setMessages] = useState([
                { sender: 'AI', text: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç Barter-Pi Pro ‡§ï‡§æ **Gemini AI** ‡§Ö‡§∏‡§ø‡§∏‡•ç‡§ü‡•á‡§Ç‡§ü ‡§π‡•Ç‡§Å‡•§ ‡§Æ‡•à‡§Ç ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó ‡§¨‡§®‡§æ‡§®‡•á, Pi ‡§Æ‡•Ç‡§≤‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§£ ‡§Ø‡§æ ‡§ü‡•ç‡§∞‡•á‡§°‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§®‡§ø‡§Ø‡§Æ‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?' }
            ]);

            const handleSend = (e) => {
                e.preventDefault();
                if (input.trim() === '') return;

                const newMessage = { sender: 'User', text: input.trim() };
                setMessages([...messages, newMessage]);
                setInput('');

                // Dummy AI Response
                setTimeout(() => {
                    const aiResponse = { sender: 'AI', text: `‡§Ø‡§π ‡§è‡§ï ‡§°‡§Æ‡•Ä AI ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•à: ‡§Ü‡§™‡§®‡•á ‡§™‡•Ç‡§õ‡§æ "${newMessage.text}"‡•§ Pi ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§π‡§Æ ‡§π‡§Æ‡•á‡§∂‡§æ **Escrow** ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§∏‡§≤‡§æ‡§π ‡§¶‡•á‡§§‡•á ‡§π‡•à‡§Ç!` };
                    setMessages(msgs => [...msgs, aiResponse]);
                }, 1500);
            };

            return (
                <div className="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                    <div className="p-6 bg-white rounded-xl shadow-lg h-[650px] flex flex-col border border-indigo-200">
                        <h2 className="text-2xl font-bold text-indigo-600 mb-4 border-b pb-2">ü§ñ AI ‡§π‡•á‡§≤‡•ç‡§™‡§∞ (Gemini Pro)</h2>
                        <div className="flex-grow bg-gray-50 p-4 rounded-lg overflow-y-scroll space-y-4 mb-4">
                            {messages.map((msg, index) => (
                                <div key={index} className={`flex ${msg.sender === 'User' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`max-w-lg p-3 rounded-xl shadow-md ${
                                        msg.sender === 'User' ? 'bg-indigo-600 text-white rounded-tr-none' : 'bg-gray-200 text-gray-800 rounded-tl-none'
                                    }`}>
                                        {msg.text}
                                    </div>
                                </div>
                            ))}
                        </div>
                        <form onSubmit={handleSend} className="flex space-x-2">
                            <input
                                type="text"
                                value={input}
                                onChange={(e) => setInput(e.target.value)}
                                placeholder="Gemini ‡§∏‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•Ç‡§õ‡•á‡§Ç..."
                                className="flex-grow p-3 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500"
                            />
                            <button type="submit" className="bg-indigo-600 text-white p-3 rounded-lg font-semibold hover:bg-indigo-700 transition">
                                Send <span role="img" aria-label="Rocket">üöÄ</span>
                            </button>
                        </form>
                    </div>
                </div>
            );
        };
        
        // --- Admin Page ---
        const AdminPage = () => {
            const activeListings = DUMMY_LISTINGS.filter(l => l.status === 'Active').length;
            const pendingReviews = DUMMY_LISTINGS.filter(l => l.status === 'Pending').length;
            const totalOrders = DUMMY_ORDERS.length;

            return (
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8">
                    <h2 className="text-3xl font-bold text-red-600 border-b pb-3">üö® ‡§è‡§°‡§Æ‡§ø‡§® ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° (PRO Access)</h2>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-indigo-600">
                            <p className="text-sm text-gray-500">‡§ï‡•Å‡§≤ ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó</p>
                            <p className="text-3xl font-extrabold text-indigo-600 mt-1">{activeListings}</p>
                        </div>
                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-yellow-600">
                            <p className="text-sm text-gray-500">‡§™‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§Æ‡•â‡§°‡§∞‡•á‡§ü‡§∞ ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ</p>
                            <p className="text-3xl font-extrabold text-yellow-600 mt-1">{pendingReviews}</p>
                        </div>
                        <div className="bg-white p-6 rounded-xl shadow-lg border-l-4 border-green-600">
                            <p className="text-sm text-gray-500">‡§™‡•Ç‡§∞‡•ç‡§£/‡§≤‡§Ç‡§¨‡§ø‡§§ ‡§ë‡§∞‡•ç‡§°‡§∞‡•ç‡§∏</p>
                            <p className="text-3xl font-extrabold text-green-600 mt-1">{totalOrders}</p>
                        </div>
                    </div>

                    <div className="bg-white p-6 rounded-xl shadow-lg">
                        <h3 className="text-xl font-semibold text-gray-800 mb-4">‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§™‡•á‡§Ç‡§°‡§ø‡§Ç‡§ó ‡§≤‡§ø‡§∏‡•ç‡§ü‡§ø‡§Ç‡§ó‡•ç‡§∏</h3>
                        <ul className="space-y-3">
                            {DUMMY_LISTINGS.filter(l => l.status === 'Pending').map(l => (
                                <li key={l.id} className="p-3 border rounded-lg flex justify-between items-center bg-yellow-50">
                                    <span className="font-medium">{l.itemName} ({l.pricePi} Pi)</span>
                                    <div>
                                        <button className="text-green-600 hover:text-green-800 text-sm font-semibold mr-3">‡§∏‡•ç‡§µ‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
                                        <button className="text-red-600 hover:text-red-800 text-sm font-semibold">‡§Ö‡§∏‡•ç‡§µ‡•Ä‡§ï‡•É‡§§ ‡§ï‡§∞‡•á‡§Ç</button>
                                    </div>
                                </li>
                            ))}
                        </ul>
                    </div>
                </div>
            );
        };

        // --- Main App Component ---
        const App = () => {
            const [currentPage, setCurrentPage] = useState('Home');

            const renderPage = () => {
                switch (currentPage) {
                    case 'Home':
                        return <HomePage setPage={setCurrentPage} />;
                    case 'Chat':
                        return <ChatPage />;
                    case 'Orders':
                        return <OrdersPage />;
                    case 'AIHelper':
                        return <AIHelperPage />;
                    case 'Admin':
                        return <AdminPage />;
                    default:
                        return <HomePage setPage={setCurrentPage} />;
                }
            };

            return (
                <div className="min-h-screen">
                    <Header currentPage={currentPage} setPage={setCurrentPage} />
                    <main className="pb-10">
                        {renderPage()}
                    </main>
                    <footer className="bg-white border-t p-4 text-center text-sm text-gray-500">
                        Barter-Pi Pro | ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ Pi ‡§¨‡§æ‡§∞‡•ç‡§ü‡§∞‡§ø‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§ø‡§∞‡•ç‡§Æ‡§ø‡§§ | Pi Network Escrow ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ø‡§§ (Dummy)
                    </footer>
                </div>
            );
        };

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);

    </script>
</body>
</html>